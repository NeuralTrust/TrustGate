{
    "openapi": "3.0.0",
    "info": {
        "title": "TrustGate",
        "contact": {
            "name": "NeuralTrust",
            "url": "https://neuraltrust.ai/contact",
            "email": "support@neuraltrust.ai"
        },
        "version": "v1.6.10"
    },
    "paths": {
        "/api/v1/gateways": {
            "get": {
                "description": "Retrieves a list of all gateways in the system",
                "tags": [
                    "Gateways"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of gateways",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/gateway.Gateway"
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Creates a new gateway in the system",
                "tags": [
                    "Gateways"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/request.CreateGatewayRequest"
                            }
                        }
                    },
                    "description": "Gateway data",
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Gateway created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/gateway.Gateway"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}": {
            "get": {
                "description": "Returns details of a specific gateway",
                "tags": [
                    "Gateways"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Gateway",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/gateway.Gateway"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Gateway not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "description": "Updates an existing gateway",
                "tags": [
                    "Gateways"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/request.UpdateGatewayRequest"
                            }
                        }
                    },
                    "description": "Updated gateway data",
                    "required": true
                },
                "responses": {
                    "204": {
                        "description": "Gateway updated successfully"
                    },
                    "400": {
                        "description": "Invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "description": "Removes a gateway from the system",
                "tags": [
                    "Gateways"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "404": {
                        "description": "Gateway not found",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/keys": {
            "post": {
                "description": "Generates a new API key for the specified gateway",
                "tags": [
                    "API Keys"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/types.CreateAPIKeyRequest"
                            }
                        }
                    },
                    "description": "API Key request body",
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "API Key created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/apikey.APIKey"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/keys/{key_id}": {
            "delete": {
                "description": "Removes an API key from a gateway",
                "tags": [
                    "API Keys"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "API Key ID",
                        "name": "key_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "API Key deleted successfully"
                    },
                    "404": {
                        "description": "API Key not found",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/public-keys": {
            "get": {
                "description": "Returns a list of all API keys for a gateway with obfuscated key values",
                "tags": [
                    "API Keys"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of API Keys with obfuscated keys",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/apikey.APIKey"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Gateway not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/rules": {
            "get": {
                "description": "Returns a list of all rules for a gateway",
                "tags": [
                    "Rules"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of rules",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/response.ListRulesOutput"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Gateway not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Adds a new rule under a gateway",
                "tags": [
                    "Rules"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/types.CreateRuleRequest"
                            }
                        }
                    },
                    "description": "Rule request body",
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Rule created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/forwarding_rule.ForwardingRule"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/rules/{rule_id}": {
            "put": {
                "description": "Updates an existing rule",
                "tags": [
                    "Rules"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Rule ID",
                        "name": "rule_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/types.UpdateRuleRequest"
                            }
                        }
                    },
                    "description": "Updated rule data",
                    "required": true
                },
                "responses": {
                    "204": {
                        "description": "Rule updated successfully"
                    },
                    "400": {
                        "description": "Invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Rule not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "description": "Removes a rule from a gateway",
                "tags": [
                    "Rules"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Rule ID",
                        "name": "rule_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Rule deleted successfully"
                    },
                    "404": {
                        "description": "Rule not found",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/services": {
            "get": {
                "description": "Returns a list of all services for a gateway",
                "tags": [
                    "Services"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of services",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/service.Service"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Gateway not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Adds a new service under a gateway",
                "tags": [
                    "Services"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/types.ServiceRequest"
                            }
                        }
                    },
                    "description": "Service request body",
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Service created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/service.Service"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/services/{service_id}": {
            "get": {
                "description": "Returns details of a specific service",
                "tags": [
                    "Services"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Service ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Service details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/service.Service"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Service not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "description": "Updates an existing service",
                "tags": [
                    "Services"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Service ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/types.ServiceRequest"
                            }
                        }
                    },
                    "description": "Updated service data",
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Service updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/service.Service"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Service not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "description": "Removes a service from a gateway",
                "tags": [
                    "Services"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Service ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Service deleted successfully"
                    },
                    "404": {
                        "description": "Service not found",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/upstreams": {
            "get": {
                "description": "Returns a list of all upstreams for a gateway",
                "tags": [
                    "Upstreams"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of upstreams",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/upstream.Upstream"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Adds a new upstream under a gateway",
                "tags": [
                    "Upstreams"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/request.UpstreamRequest"
                            }
                        }
                    },
                    "description": "Upstream data",
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Upstream created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/upstream.Upstream"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/gateways/{gateway_id}/upstreams/{upstream_id}": {
            "get": {
                "description": "Returns details of a specific upstream",
                "tags": [
                    "Upstreams"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Upstream ID",
                        "name": "upstream_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Upstream details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/upstream.Upstream"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "description": "Updates an existing upstream",
                "tags": [
                    "Upstreams"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Upstream ID",
                        "name": "upstream_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/request.UpstreamRequest"
                            }
                        }
                    },
                    "description": "Updated upstream data",
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Upstream updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/upstream.Upstream"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "description": "Removes an upstream from a gateway",
                "tags": [
                    "Upstreams"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Gateway ID",
                        "name": "gateway_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Upstream ID",
                        "name": "upstream_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Upstream deleted successfully"
                    }
                }
            }
        },
        "/api/v1/plugins": {
            "get": {
                "description": "Returns the list of available plugins",
                "tags": [
                    "Plugins"
                ],
                "responses": {
                    "200": {
                        "description": "List of plugins",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/plugins.PluginDefinition"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "description": "Updates only the plugin chain for a given gateway or rule",
                "tags": [
                    "Plugins"
                ],
                "parameters": [
                    {
                        "description": "Authorization token",
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/request.UpdatePluginsRequest"
                            }
                        }
                    },
                    "description": "Update plugins payload",
                    "required": true
                },
                "responses": {
                    "204": {
                        "description": "Plugins updated successfully"
                    },
                    "400": {
                        "description": "Invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Entity not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/version": {
            "get": {
                "description": "Returns the current version of the AI-Gateway",
                "tags": [
                    "Version"
                ],
                "responses": {
                    "200": {
                        "description": "Version information",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "apikey.APIKey": {
                "type": "object",
                "properties": {
                    "active": {
                        "type": "boolean"
                    },
                    "created_at": {
                        "type": "string"
                    },
                    "deleted_at": {
                        "type": "string"
                    },
                    "expires_at": {
                        "type": "string"
                    },
                    "gateway_id": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "key": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    }
                }
            },
            "domain.ClientTLSConfig": {
                "type": "object",
                "additionalProperties": {
                    "$ref": "#/components/schemas/types.ClientTLSConfig"
                }
            },
            "domain.CredentialsJSON": {
                "type": "object",
                "properties": {
                    "allow_override": {
                        "description": "General settings",
                        "type": "boolean"
                    },
                    "api_key": {
                        "description": "Api Key",
                        "type": "string"
                    },
                    "aws_access_key_id": {
                        "description": "AWS auth",
                        "type": "string"
                    },
                    "aws_region": {
                        "type": "string"
                    },
                    "aws_role": {
                        "type": "string"
                    },
                    "aws_secret_access_key": {
                        "type": "string"
                    },
                    "aws_session_token": {
                        "type": "string"
                    },
                    "aws_use_role": {
                        "type": "boolean"
                    },
                    "azure_client_id": {
                        "type": "string"
                    },
                    "azure_client_secret": {
                        "type": "string"
                    },
                    "azure_endpoint": {
                        "type": "string"
                    },
                    "azure_eversion": {
                        "type": "string"
                    },
                    "azure_tenant_id": {
                        "type": "string"
                    },
                    "azure_use_managed_identity": {
                        "description": "Azure auth",
                        "type": "boolean"
                    },
                    "gcp_service_account_json": {
                        "type": "string"
                    },
                    "gcp_use_service_account": {
                        "description": "GCP auth",
                        "type": "boolean"
                    },
                    "header_name": {
                        "description": "Header-based auth",
                        "type": "string"
                    },
                    "header_value": {
                        "type": "string"
                    },
                    "param_location": {
                        "description": "\"query\" or \"body\"",
                        "type": "string"
                    },
                    "param_name": {
                        "description": "Parameter-based auth",
                        "type": "string"
                    },
                    "param_value": {
                        "type": "string"
                    }
                }
            },
            "domain.HeadersJSON": {
                "type": "object",
                "additionalProperties": {
                    "type": "string"
                }
            },
            "domain.SecurityConfigJSON": {
                "type": "object",
                "properties": {
                    "allowed_hosts": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "allowed_hosts_are_regex": {
                        "type": "boolean"
                    },
                    "browser_xss_filter": {
                        "type": "boolean"
                    },
                    "content_security_policy": {
                        "type": "string"
                    },
                    "content_type_nosniff": {
                        "type": "boolean"
                    },
                    "custom_frame_options_value": {
                        "type": "string"
                    },
                    "frame_deny": {
                        "type": "boolean"
                    },
                    "is_development": {
                        "type": "boolean"
                    },
                    "referrer_policy": {
                        "type": "string"
                    },
                    "ssl_host": {
                        "type": "string"
                    },
                    "ssl_proxy_headers": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "ssl_redirect": {
                        "type": "boolean"
                    },
                    "sts_include_subdomains": {
                        "type": "boolean"
                    },
                    "sts_seconds": {
                        "type": "integer"
                    }
                }
            },
            "domain.TrustLensJSON": {
                "type": "object",
                "properties": {
                    "app_id": {
                        "type": "string"
                    },
                    "mapping": {
                        "$ref": "#/components/schemas/types.TrustLensMapping"
                    },
                    "team_id": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    }
                }
            },
            "forwarding_rule.ForwardingRule": {
                "type": "object",
                "properties": {
                    "active": {
                        "type": "boolean"
                    },
                    "createdAt": {
                        "type": "string"
                    },
                    "gatewayID": {
                        "type": "string"
                    },
                    "headers": {
                        "$ref": "#/components/schemas/domain.HeadersJSON"
                    },
                    "id": {
                        "type": "string"
                    },
                    "methods": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "name": {
                        "type": "string"
                    },
                    "path": {
                        "type": "string"
                    },
                    "pluginChain": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "preserveHost": {
                        "type": "boolean"
                    },
                    "public": {
                        "type": "boolean"
                    },
                    "retryAttempts": {
                        "type": "integer"
                    },
                    "serviceID": {
                        "type": "string"
                    },
                    "stripPath": {
                        "type": "boolean"
                    },
                    "trustLens": {
                        "$ref": "#/components/schemas/domain.TrustLensJSON"
                    },
                    "updatedAt": {
                        "type": "string"
                    }
                }
            },
            "gateway.Gateway": {
                "type": "object",
                "properties": {
                    "client_tls": {
                        "$ref": "#/components/schemas/domain.ClientTLSConfig"
                    },
                    "created_at": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "required_plugins": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "security_config": {
                        "$ref": "#/components/schemas/domain.SecurityConfigJSON"
                    },
                    "session_config": {
                        "$ref": "#/components/schemas/gateway.SessionConfig"
                    },
                    "status": {
                        "type": "string"
                    },
                    "subdomain": {
                        "type": "string"
                    },
                    "telemetry": {
                        "$ref": "#/components/schemas/telemetry.Telemetry"
                    },
                    "updated_at": {
                        "type": "string"
                    }
                }
            },
            "gateway.SessionConfig": {
                "type": "object",
                "properties": {
                    "body_param_name": {
                        "type": "string"
                    },
                    "enabled": {
                        "type": "boolean"
                    },
                    "header_name": {
                        "type": "string"
                    },
                    "mapping_field": {
                        "type": "string"
                    },
                    "ttl": {
                        "type": "integer"
                    }
                }
            },
            "plugins.PluginDefinition": {
                "type": "object",
                "properties": {
                    "allowed_stages": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.Stage"
                        }
                    },
                    "category": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "label": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    }
                }
            },
            "request.ClientTLSCertRequest": {
                "type": "object",
                "properties": {
                    "certificate": {
                        "type": "string"
                    },
                    "private_key": {
                        "type": "string"
                    }
                }
            },
            "request.ClientTLSConfigRequest": {
                "type": "object",
                "properties": {
                    "allow_insecure_connections": {
                        "type": "boolean"
                    },
                    "ca_cert": {
                        "type": "string"
                    },
                    "cipher_suites": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        }
                    },
                    "client_certs": {
                        "$ref": "#/components/schemas/request.ClientTLSCertRequest"
                    },
                    "curve_preferences": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        }
                    },
                    "disable_system_ca_pool": {
                        "type": "boolean"
                    },
                    "max_version": {
                        "type": "string"
                    },
                    "min_version": {
                        "type": "string"
                    }
                }
            },
            "request.CreateGatewayRequest": {
                "type": "object",
                "properties": {
                    "client_tls": {
                        "type": "object",
                        "additionalProperties": {
                            "$ref": "#/components/schemas/request.ClientTLSConfigRequest"
                        }
                    },
                    "created_at": {
                        "type": "string"
                    },
                    "name": {
                        "description": "@required",
                        "type": "string"
                    },
                    "required_plugins": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "security_config": {
                        "$ref": "#/components/schemas/request.SecurityConfigRequest"
                    },
                    "session_config": {
                        "$ref": "#/components/schemas/request.SessionConfigRequest"
                    },
                    "status": {
                        "type": "string"
                    },
                    "subdomain": {
                        "description": "@required",
                        "type": "string"
                    },
                    "telemetry": {
                        "$ref": "#/components/schemas/request.TelemetryRequest"
                    },
                    "updated_at": {
                        "type": "string"
                    }
                }
            },
            "request.EmbeddingRequest": {
                "type": "object",
                "properties": {
                    "credentials": {
                        "$ref": "#/components/schemas/types.Credentials"
                    },
                    "model": {
                        "type": "string"
                    },
                    "provider": {
                        "type": "string"
                    }
                }
            },
            "request.ExporterRequest": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "settings": {
                        "type": "object",
                        "additionalProperties": true
                    }
                }
            },
            "request.HealthCheckRequest": {
                "type": "object",
                "properties": {
                    "headers": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "interval": {
                        "description": "Time in seconds before resetting failure count",
                        "type": "integer"
                    },
                    "passive": {
                        "type": "boolean"
                    },
                    "path": {
                        "type": "string"
                    },
                    "threshold": {
                        "description": "Number of failures before marking as unhealthy",
                        "type": "integer"
                    }
                }
            },
            "request.ProxyConfigRequest": {
                "type": "object",
                "properties": {
                    "host": {
                        "type": "string"
                    },
                    "port": {
                        "type": "string"
                    },
                    "protocol": {
                        "type": "string"
                    }
                }
            },
            "request.SecurityConfigRequest": {
                "type": "object",
                "properties": {
                    "allowed_hosts": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "allowed_hosts_are_regex": {
                        "type": "boolean"
                    },
                    "browser_xss_filter": {
                        "type": "boolean"
                    },
                    "content_security_policy": {
                        "type": "string"
                    },
                    "content_type_nosniff": {
                        "type": "boolean"
                    },
                    "custom_frame_options_value": {
                        "type": "string"
                    },
                    "frame_deny": {
                        "type": "boolean"
                    },
                    "is_development": {
                        "type": "boolean"
                    },
                    "referrer_policy": {
                        "type": "string"
                    },
                    "ssl_host": {
                        "type": "string"
                    },
                    "ssl_proxy_headers": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "ssl_redirect": {
                        "type": "boolean"
                    },
                    "sts_include_subdomains": {
                        "type": "boolean"
                    },
                    "sts_seconds": {
                        "type": "integer"
                    }
                }
            },
            "request.SessionConfigRequest": {
                "type": "object",
                "properties": {
                    "body_param_name": {
                        "type": "string"
                    },
                    "enabled": {
                        "type": "boolean"
                    },
                    "header_name": {
                        "type": "string"
                    },
                    "mapping_field": {
                        "type": "string"
                    },
                    "ttl": {
                        "type": "integer"
                    }
                }
            },
            "request.TargetRequest": {
                "type": "object",
                "properties": {
                    "credentials": {
                        "$ref": "#/components/schemas/types.Credentials"
                    },
                    "default_model": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "headers": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "host": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "insecure_ssl": {
                        "type": "boolean"
                    },
                    "models": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "path": {
                        "type": "string"
                    },
                    "port": {
                        "type": "integer"
                    },
                    "priority": {
                        "type": "integer"
                    },
                    "protocol": {
                        "type": "string"
                    },
                    "provider": {
                        "type": "string"
                    },
                    "stream": {
                        "type": "boolean"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "weight": {
                        "type": "integer"
                    }
                }
            },
            "request.TelemetryRequest": {
                "type": "object",
                "properties": {
                    "enable_plugin_traces": {
                        "type": "boolean"
                    },
                    "enable_request_traces": {
                        "type": "boolean"
                    },
                    "exporters": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/request.ExporterRequest"
                        }
                    },
                    "extra_params": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "header_mapping": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    }
                }
            },
            "request.UpdateGatewayRequest": {
                "type": "object",
                "properties": {
                    "client_tls": {
                        "type": "object",
                        "additionalProperties": {
                            "$ref": "#/components/schemas/request.ClientTLSConfigRequest"
                        }
                    },
                    "name": {
                        "type": "string"
                    },
                    "required_plugins": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "security_config": {
                        "$ref": "#/components/schemas/request.SecurityConfigRequest"
                    },
                    "session_config": {
                        "$ref": "#/components/schemas/request.SessionConfigRequest"
                    },
                    "status": {
                        "type": "string"
                    },
                    "telemetry": {
                        "$ref": "#/components/schemas/request.TelemetryRequest"
                    }
                }
            },
            "request.UpdatePluginsRequest": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "plugin_chain": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "type": {
                        "description": "\"gateway\" or \"rule\"",
                        "type": "string"
                    }
                }
            },
            "request.UpstreamRequest": {
                "type": "object",
                "properties": {
                    "algorithm": {
                        "type": "string"
                    },
                    "embedding": {
                        "$ref": "#/components/schemas/request.EmbeddingRequest"
                    },
                    "gateway_id": {
                        "type": "string"
                    },
                    "health_checks": {
                        "$ref": "#/components/schemas/request.HealthCheckRequest"
                    },
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "proxy_config": {
                        "$ref": "#/components/schemas/request.ProxyConfigRequest"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "targets": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/request.TargetRequest"
                        }
                    },
                    "websocket_config": {
                        "$ref": "#/components/schemas/request.WebhookConfigRequest"
                    }
                }
            },
            "request.WebhookConfigRequest": {
                "type": "object",
                "properties": {
                    "enable_direct_communication": {
                        "type": "boolean"
                    },
                    "handshake_timeout": {
                        "type": "string"
                    },
                    "ping_period": {
                        "type": "string"
                    },
                    "pong_wait": {
                        "type": "string"
                    },
                    "read_buffer_size": {
                        "type": "integer"
                    },
                    "return_error_details": {
                        "type": "boolean"
                    },
                    "write_buffer_size": {
                        "type": "integer"
                    }
                }
            },
            "response.ForwardingRuleOutput": {
                "type": "object",
                "properties": {
                    "active": {
                        "type": "boolean"
                    },
                    "created_at": {
                        "type": "string"
                    },
                    "headers": {
                        "$ref": "#/components/schemas/domain.HeadersJSON"
                    },
                    "id": {
                        "type": "string"
                    },
                    "methods": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "name": {
                        "type": "string"
                    },
                    "path": {
                        "type": "string"
                    },
                    "plugin_chain": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "service_id": {
                        "type": "string"
                    },
                    "trustlens": {
                        "$ref": "#/components/schemas/domain.TrustLensJSON"
                    },
                    "updated_at": {
                        "type": "string"
                    },
                    "upstream": {
                        "$ref": "#/components/schemas/response.UpstreamOutput"
                    }
                }
            },
            "response.GatewayOutput": {
                "type": "object",
                "properties": {
                    "created_at": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "plugin_chain": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "status": {
                        "type": "string"
                    },
                    "updated_at": {
                        "type": "string"
                    }
                }
            },
            "response.ListRulesOutput": {
                "type": "object",
                "properties": {
                    "gateway": {
                        "$ref": "#/components/schemas/response.GatewayOutput"
                    },
                    "rules": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/response.ForwardingRuleOutput"
                        }
                    }
                }
            },
            "response.UpstreamOutput": {
                "type": "object",
                "properties": {
                    "algorithm": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "targets": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/upstream.Target"
                        }
                    }
                }
            },
            "service.Service": {
                "type": "object",
                "properties": {
                    "created_at": {
                        "type": "string"
                    },
                    "credentials": {
                        "$ref": "#/components/schemas/types.Credentials"
                    },
                    "description": {
                        "type": "string"
                    },
                    "gateway_id": {
                        "type": "string"
                    },
                    "headers": {
                        "$ref": "#/components/schemas/domain.HeadersJSON"
                    },
                    "host": {
                        "description": "Direct configuration (used when type is \"direct\")",
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "path": {
                        "type": "string"
                    },
                    "port": {
                        "type": "integer"
                    },
                    "protocol": {
                        "type": "string"
                    },
                    "retries": {
                        "description": "Common settings",
                        "type": "integer"
                    },
                    "stream": {
                        "type": "boolean"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "type": {
                        "description": "\"upstream\" or \"endpoint\"",
                        "type": "string"
                    },
                    "updated_at": {
                        "type": "string"
                    },
                    "upstream": {
                        "$ref": "#/components/schemas/upstream.Upstream"
                    },
                    "upstream_id": {
                        "description": "Upstream configuration (used when type is \"upstream\")",
                        "type": "string"
                    }
                }
            },
            "telemetry.ExporterConfig": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "settings": {
                        "type": "object",
                        "additionalProperties": true
                    }
                }
            },
            "telemetry.Telemetry": {
                "type": "object",
                "properties": {
                    "enable_plugin_traces": {
                        "type": "boolean"
                    },
                    "enable_request_traces": {
                        "type": "boolean"
                    },
                    "exporters": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/telemetry.ExporterConfig"
                        }
                    },
                    "extra_params": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "header_mapping": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    }
                }
            },
            "types.ClientTLSCert": {
                "type": "object",
                "properties": {
                    "certificate": {
                        "type": "string"
                    },
                    "private_key": {
                        "type": "string"
                    }
                }
            },
            "types.ClientTLSConfig": {
                "type": "object",
                "properties": {
                    "allow_insecure_connections": {
                        "type": "boolean"
                    },
                    "ca_certs": {
                        "type": "string"
                    },
                    "cipher_suites": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        }
                    },
                    "client_certs": {
                        "$ref": "#/components/schemas/types.ClientTLSCert"
                    },
                    "curve_preferences": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        }
                    },
                    "disable_system_ca_pool": {
                        "type": "boolean"
                    },
                    "max_version": {
                        "type": "string"
                    },
                    "min_version": {
                        "type": "string"
                    }
                }
            },
            "types.CreateAPIKeyRequest": {
                "type": "object",
                "required": [
                    "name"
                ],
                "properties": {
                    "expires_at": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    }
                }
            },
            "types.CreateRuleRequest": {
                "type": "object",
                "required": [
                    "name",
                    "path",
                    "service_id"
                ],
                "properties": {
                    "headers": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "methods": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "name": {
                        "type": "string"
                    },
                    "path": {
                        "type": "string"
                    },
                    "plugin_chain": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "preserve_host": {
                        "type": "boolean"
                    },
                    "retry_attempts": {
                        "type": "integer"
                    },
                    "service_id": {
                        "type": "string"
                    },
                    "strip_path": {
                        "type": "boolean"
                    },
                    "trustlens": {
                        "$ref": "#/components/schemas/types.TrustLensConfig"
                    }
                }
            },
            "types.Credentials": {
                "type": "object",
                "properties": {
                    "allow_override": {
                        "description": "General settings",
                        "type": "boolean"
                    },
                    "api_key": {
                        "description": "Api Key",
                        "type": "string"
                    },
                    "aws_access_key_id": {
                        "description": "AWS auth",
                        "type": "string"
                    },
                    "aws_region": {
                        "type": "string"
                    },
                    "aws_role": {
                        "type": "string"
                    },
                    "aws_secret_access_key": {
                        "type": "string"
                    },
                    "aws_session_token": {
                        "type": "string"
                    },
                    "aws_use_role": {
                        "type": "boolean"
                    },
                    "azure_client_id": {
                        "type": "string"
                    },
                    "azure_client_secret": {
                        "type": "string"
                    },
                    "azure_endpoint": {
                        "type": "string"
                    },
                    "azure_eversion": {
                        "type": "string"
                    },
                    "azure_tenant_id": {
                        "type": "string"
                    },
                    "azure_use_managed_identity": {
                        "description": "Azure auth",
                        "type": "boolean"
                    },
                    "gcp_service_account_json": {
                        "type": "string"
                    },
                    "gcp_use_service_account": {
                        "description": "GCP auth",
                        "type": "boolean"
                    },
                    "header_name": {
                        "description": "Header-based auth",
                        "type": "string"
                    },
                    "header_value": {
                        "type": "string"
                    },
                    "param_location": {
                        "description": "\"query\" or \"body\"",
                        "type": "string"
                    },
                    "param_name": {
                        "description": "Parameter-based auth",
                        "type": "string"
                    },
                    "param_value": {
                        "type": "string"
                    }
                }
            },
            "types.Level": {
                "type": "string",
                "enum": [
                    "gateway",
                    "rule"
                ],
                "x-enum-varnames": [
                    "GatewayLevel",
                    "RuleLevel"
                ]
            },
            "types.PluginConfig": {
                "type": "object",
                "properties": {
                    "enabled": {
                        "type": "boolean"
                    },
                    "id": {
                        "description": "ID of the gateway or rule this plugin belongs to",
                        "type": "string"
                    },
                    "level": {
                        "$ref": "#/components/schemas/types.Level"
                    },
                    "name": {
                        "type": "string"
                    },
                    "parallel": {
                        "description": "Whether this plugin can run in parallel",
                        "type": "boolean"
                    },
                    "priority": {
                        "type": "integer"
                    },
                    "settings": {
                        "type": "object",
                        "additionalProperties": true
                    },
                    "stage": {
                        "$ref": "#/components/schemas/types.Stage"
                    }
                }
            },
            "types.ServiceRequest": {
                "type": "object",
                "properties": {
                    "createdAt": {
                        "type": "string"
                    },
                    "credentials": {
                        "$ref": "#/components/schemas/types.Credentials"
                    },
                    "description": {
                        "type": "string"
                    },
                    "gateway_id": {
                        "type": "string"
                    },
                    "headers": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "host": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "path": {
                        "type": "string"
                    },
                    "port": {
                        "type": "integer"
                    },
                    "protocol": {
                        "type": "string"
                    },
                    "retries": {
                        "type": "integer"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "type": {
                        "type": "string"
                    },
                    "updatedAt": {
                        "type": "string"
                    },
                    "upstream_id": {
                        "type": "string"
                    }
                }
            },
            "types.Stage": {
                "type": "string",
                "enum": [
                    "pre_request",
                    "post_request",
                    "pre_response",
                    "post_response"
                ],
                "x-enum-varnames": [
                    "PreRequest",
                    "PostRequest",
                    "PreResponse",
                    "PostResponse"
                ]
            },
            "types.TrustLensConfig": {
                "type": "object",
                "properties": {
                    "app_id": {
                        "type": "string"
                    },
                    "mapping": {
                        "$ref": "#/components/schemas/types.TrustLensMapping"
                    },
                    "team_id": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    }
                }
            },
            "types.TrustLensMapping": {
                "type": "object",
                "properties": {
                    "input": {
                        "$ref": "#/components/schemas/types.TrustLensMappingData"
                    },
                    "output": {
                        "$ref": "#/components/schemas/types.TrustLensMappingData"
                    }
                }
            },
            "types.TrustLensMappingData": {
                "type": "object",
                "properties": {
                    "data_projection": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "extract_fields": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    }
                }
            },
            "types.UpdateRuleRequest": {
                "type": "object",
                "properties": {
                    "active": {
                        "type": "boolean"
                    },
                    "headers": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "methods": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "name": {
                        "type": "string"
                    },
                    "path": {
                        "type": "string"
                    },
                    "plugin_chain": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/types.PluginConfig"
                        }
                    },
                    "preserve_host": {
                        "type": "boolean"
                    },
                    "retry_attempts": {
                        "type": "integer"
                    },
                    "service_id": {
                        "type": "string"
                    },
                    "strip_path": {
                        "type": "boolean"
                    },
                    "trust_lens": {
                        "$ref": "#/components/schemas/types.TrustLensConfig"
                    }
                }
            },
            "upstream.EmbeddingConfig": {
                "type": "object",
                "properties": {
                    "credentials": {
                        "$ref": "#/components/schemas/domain.CredentialsJSON"
                    },
                    "model": {
                        "type": "string"
                    },
                    "provider": {
                        "type": "string"
                    }
                }
            },
            "upstream.HealthCheck": {
                "type": "object",
                "properties": {
                    "headers": {
                        "$ref": "#/components/schemas/domain.HeadersJSON"
                    },
                    "interval": {
                        "description": "Time in seconds before resetting failure count",
                        "type": "integer"
                    },
                    "passive": {
                        "type": "boolean"
                    },
                    "path": {
                        "type": "string"
                    },
                    "threshold": {
                        "description": "Number of failures before marking as unhealthy",
                        "type": "integer"
                    }
                }
            },
            "upstream.Proxy": {
                "type": "object",
                "properties": {
                    "host": {
                        "type": "string"
                    },
                    "port": {
                        "type": "string"
                    },
                    "protocol": {
                        "type": "string"
                    }
                }
            },
            "upstream.Target": {
                "type": "object",
                "properties": {
                    "credentials": {
                        "$ref": "#/components/schemas/domain.CredentialsJSON"
                    },
                    "default_model": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "headers": {
                        "$ref": "#/components/schemas/domain.HeadersJSON"
                    },
                    "host": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "insecure_ssl": {
                        "type": "boolean"
                    },
                    "models": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "path": {
                        "type": "string"
                    },
                    "port": {
                        "type": "integer"
                    },
                    "priority": {
                        "type": "integer"
                    },
                    "protocol": {
                        "type": "string"
                    },
                    "provider": {
                        "type": "string"
                    },
                    "stream": {
                        "type": "boolean"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "weight": {
                        "type": "integer"
                    }
                }
            },
            "upstream.Upstream": {
                "type": "object",
                "properties": {
                    "algorithm": {
                        "type": "string"
                    },
                    "created_at": {
                        "type": "string"
                    },
                    "embedding_config": {
                        "$ref": "#/components/schemas/upstream.EmbeddingConfig"
                    },
                    "gateway_id": {
                        "type": "string"
                    },
                    "health_checks": {
                        "$ref": "#/components/schemas/upstream.HealthCheck"
                    },
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "proxy": {
                        "$ref": "#/components/schemas/upstream.Proxy"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "targets": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/upstream.Target"
                        }
                    },
                    "updated_at": {
                        "type": "string"
                    },
                    "websocket_config": {
                        "$ref": "#/components/schemas/upstream.WebsocketConfig"
                    }
                }
            },
            "upstream.WebsocketConfig": {
                "type": "object",
                "properties": {
                    "enable_direct_communication": {
                        "type": "boolean"
                    },
                    "handshake_timeout": {
                        "type": "string"
                    },
                    "ping_period": {
                        "type": "string"
                    },
                    "pong_wait": {
                        "type": "string"
                    },
                    "read_buffer_size": {
                        "type": "integer"
                    },
                    "return_error_details": {
                        "type": "boolean"
                    },
                    "write_buffer_size": {
                        "type": "integer"
                    }
                }
            }
        }
    }
}